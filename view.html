<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tables</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <body>

        <div class="container">

            <div class="jumbotron">
                <h1 class="text-center"><span class="fa fa-fire"></span> Hot Restaurant</h1>
                <hr>
                <h2 class="text-center">Current Reservations and Waiting List</h2>
                <br>

                <div class="text-center">
                    <!-- <a href="/make"><button class="btn btn-lg btn-danger"><span class="fa fa-credit-card"></span>
                            Make Reservation</button></a> -->
                    <a href="./home.html"><button class="btn btn-lg btn-default"><span
                                class="fa fa-home"></span></button></a>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-12">

                    <!-- Current Tables in Use -->
                    <div class="card">
                        <div class="card-header">
                            <h4>Current Reservations</h4>
                        </div>
                        <div class="card-body">
                            <ul id="tableList" class="list-group">
                                <!-- <li class="list-group-item mt-4">
                                    <h2>Table #1 </h2>
                                    <hr>
                                    <h2>Name: </h2>
                                    <h2>Party Size: </h2>
                                    <h2>Contact: </h2>
                                </li> -->

                            </ul>
                        </div>
                    </div>

                    <!-- Waiting List Card -->
                    <div class="card mt-4">
                        <div class="card-header">
                            <h4>Waiting List</h4>
                        </div>
                        <div class="card-body">
                            <ul id="waitList" class="list-group">
                                <!-- <li class="list-group-item mt-4">
                                    <h2>Table #1</h2>
                                    <hr>
                                    <h2>Name: </h2>
                                    <h2>Party Size: </h2>
                                    <h2>Contact: </h2>
                                </li> -->
                            </ul>
                        </div>
                    </div>
                </div>
            </div>


            <footer class="footer mt-4">
                <div class="container">
                    <p>Control Panel</p>
                    <p><a href="#" id="clear">Clear Table</a> | <a href="/api/tables">API Table Link</a> | <a
                            href="/api/waitlist">API
                            Wait List</a>
                    </p>
                </div>
            </footer>
            <script src="https://code.jquery.com/jquery-3.5.1.js"
                integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
            <script>
                $.get("/api/currentTables/" + function (data) {
                    console.log(data);
                    if (data) {
                        for (let i = 0; i < 5; i++) {
                            let tableNumber = i + 1;
                            let div = $("<div>")
                            div.html = `<li class="list-group-item mt-4">
                                    <h2>Table #${tableNumber}</h2>
                                    <hr>
                                    <h2>Name: ${data[i].name} </h2>
                                    <h2>Party Size: ${data[i].partySize} </h2>
                                    <h2>Contact: ${data[i].contact}</h2>
                                </li>`
                            $("#tableList").appendChild(div);
                        };
                    } else {
                        // $("#name").text(
                        //     "The force is not strong with this one. Your character was not found.");
                        // $("#stats").hide();
                    }
                    $.get("/api/waitList/" + function (data) {
                        console.log(data);
                        if (data) {
                            for (let i = 0; i < data.length; i++) {
                                let tableNumber = i + 1;
                                let div = $("<div>")
                                div.html = `<li class="list-group-item mt-4">
                                    <h2>Table #${tableNumber}</h2>
                                    <hr>
                                    <h2>Name: ${data[i].name} </h2>
                                    <h2>Party Size: ${data[i].partySize} </h2>
                                    <h2>Contact: ${data[i].contact}</h2>
                                </li>`
                                $("#waitList").appendChild(div);

                            };
                        } else {
                            // $("#name").text(
                            //     "The force is not strong with this one. Your character was not found.");
                            // $("#stats").hide();
                        }

            </script>
        </div>
    </body>

</html>